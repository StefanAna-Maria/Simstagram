@model proiect.ViewModels.NotificationViewModel

@{
    ViewData["Title"] = "Notifications";
}

<h2>Notifications</h2>

@if (!Model.PendingPostComments.Any() && !Model.PendingPhotoComments.Any())
{
    <p>No pending notifications.</p>
}

@if (Model.PendingPostComments.Any())
{
    <h4>Post Comment Requests</h4>
    <ul class="list-group">
        @foreach (var comment in Model.PendingPostComments)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>@comment.Author.UserName</strong> wants to comment on your post.
                </div>
                <a class="btn text-white btn-sm" style="background-color: #5a8c8a;" href="@Url.Action("Pending", "Comment")">See more</a>

            </li>
        }
    </ul>
}

@if (Model.PendingPhotoComments.Any())
{
    <h4 class="mt-4">Photo Comment Requests</h4>
    <ul class="list-group">
        @foreach (var photoComment in Model.PendingPhotoComments)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>@photoComment.Author.UserName</strong> wants to comment on your photo.
                </div>
                <a class="btn text-white btn-sm" style="background-color: #5a8c8a;" href="@Url.Action("Pending", "PhotoComment")">See more</a>
            </li>
        }
    </ul>
}

@if (Model.AdminWarnings.Any())
{
    <h4 class="mt-4">Admin Warnings</h4>
    <ul class="list-group">
        @foreach (var warning in Model.AdminWarnings)
        {
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <strong>[ADMIN]</strong> @warning.Message
                    <div class="text-muted small">@warning.CreatedAt.ToString("g")</div>
                </div>
                <form asp-action="DeleteWarning" method="post" class="mb-0">
                    <input type="hidden" name="id" value="@warning.Id" />
                    <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                </form>
            </li>
        }
    </ul>
}


@if (ViewBag.PendingFriendRequests != null && ((List<FriendRequest>)ViewBag.PendingFriendRequests).Any())
{
    var friendRequests = (List<FriendRequest>)ViewBag.PendingFriendRequests;

    <div class="mt-4">
        <h4>Friend Requests</h4>
        <div class="alert alert-info d-flex justify-content-between align-items-center">
            <span>You have @friendRequests.Count new friend request@(friendRequests.Count > 1 ? "s" : "").</span>
            <a class="btn btn-sm btn-outline-primary" asp-controller="Friend" asp-action="ReceivedRequests">See more</a>
        </div>
    </div>
}